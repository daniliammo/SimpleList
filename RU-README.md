# Simple List (Vala)

## RU-README(Current), [EN-README](https://github.com/daniliammo/SimpleList)

## Зачем?
* Был создан, так как `Gee.Array` потребляет много памяти и в нем возможны утечки.

## Цели
* Реализация простого, быстрого, и мало потребляющего списка.
* Полностью реализовать на языке Vala.

## Реализации списков
* `LazyCompactingList`
	- Индексы всегда актуальны.
	- Если был удален компонент в конце списка, то ресайзит массив и `null` удаляется.
	- Если был удален компонент не в конце списка, то он помечается как `null` и массив не пересоздается.
		* Если до этого `null` не в конце списка доберуться другие `null` то массив тоже ресайзится и все они будут удалены.
	- Удаление компонентов работает быстрее чем `ActiveCompactingList`, но потребляет больше памяти.

* `ActiveCompactingList`
	- Индексы не всегда актуальны.
	- Если был удален компонент даже не в конце списка, то пересоздает массив без этого компонента.
	- Удаление компонентов немного медленне чем в `LazyCompactingList`, но потребляет меньше памяти.

## Пример использования
* Примеры использования находятся в директории `example`.
* Билдинг примеров использования
	- Следуйте инструкциям в подзаголовке 'Билдинг проекта'.
		* Исполняемый файл появится в `build/example`.


## Ограничения
* Ограничения `foreach`
	- Не используйте `foreach` вместе с `non-nullable` типами (например: `int`, `uint`)
		* Безопасно даже для `foreach`: `LazyCompactingList<int?>` или `ActiveCompactingList<int?>` 
		* Небезопасно для `foreach`: `LazyCompactingList<int>` или `ActiveCompactingList<int>` 

## Билдинг проекта
* Cконфигурируйте проект. Запустите `meson build`
	- Перейдите в директорию `build`. Запустите `cd build`
	- Забилдите проект. Запустите `ninja` или `ninja install` если хотите установить библиотеку.
	- `libSimpleList.so`, `SimpleList.h`, `SimpleList.vapi` появятся в `build/src`
